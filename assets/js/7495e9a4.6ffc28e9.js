"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5213],{5199:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Modules/cleaner","title":"cleaner","description":"Overview","source":"@site/docs/02-Modules/cleaner.md","sourceDirName":"02-Modules","slug":"/Modules/cleaner","permalink":"/Modules/cleaner","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-Modules/cleaner.md","tags":[],"version":"current","frontMatter":{"title":"cleaner"},"sidebar":"documentSidebar","previous":{"title":"chat.trigger","permalink":"/Modules/chat.trigger"},"next":{"title":"color.anvil","permalink":"/Modules/color.anvil"}}');var t=i(4848),l=i(8453);const r={title:"cleaner"},o="Module: cleaner",c={},d=[{value:"Overview",id:"overview",level:2},{value:"Color Boxes",id:"color-boxes",level:2},{value:"Configurations",id:"configurations",level:2},{value:"Jobs",id:"jobs",level:2},{value:"Commands",id:"commands",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"module-cleaner",children:"Module: cleaner"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.admonition,{type:"module",children:(0,t.jsxs)(n.p,{children:["This module provides the ",(0,t.jsx)(n.code,{children:"entity"})," cleaner.\nIt monitors defined ",(0,t.jsx)(n.code,{children:"conditions"})," and removes ",(0,t.jsx)(n.code,{children:"entities"})," accordingly."]})}),"\n",(0,t.jsx)(n.h2,{id:"color-boxes",children:"Color Boxes"}),"\n",(0,t.jsxs)(n.admonition,{type:"colorbox-note",children:[(0,t.jsxs)(n.p,{children:["\u25c9 The vanilla Minecraft ",(0,t.jsx)(n.code,{children:"Item Entity"})," de-spawning."]}),(0,t.jsxs)(n.p,{children:["In ",(0,t.jsx)(n.code,{children:"vanilla Minecraft"}),", all ",(0,t.jsx)(n.code,{children:"item entities"})," automatically de-spawn after ",(0,t.jsx)(n.code,{children:"6000 ticks (5 minutes)"}),"."]}),(0,t.jsxs)(n.p,{children:["In most case, the vanilla ",(0,t.jsx)(n.code,{children:"item de-spawning mechanism"})," is sufficient to meet your needs."]}),(0,t.jsxs)(n.p,{children:["It's strongly recommended to use the ",(0,t.jsx)(n.code,{children:"cleaner"})," module only for handling ",(0,t.jsx)(n.code,{children:"special case"}),"."]}),(0,t.jsxs)(n.p,{children:["For example, if your players have built a ",(0,t.jsx)(n.code,{children:"large mob farm"}),", which produces excessive amount of ",(0,t.jsx)(n.code,{children:"ender pearls"}),"."]}),(0,t.jsxs)(n.p,{children:["You may define a ",(0,t.jsx)(n.code,{children:"clean matcher"})," to match the ",(0,t.jsx)(n.code,{children:"ender pearl"})," entity."]}),(0,t.jsxs)(n.p,{children:["\u25c9 Cleaning scope of the ",(0,t.jsx)(n.code,{children:"cleaner"})," module."]}),(0,t.jsxs)(n.p,{children:["This module exclusively targets ",(0,t.jsx)(n.code,{children:"entities"}),"."]}),(0,t.jsxs)(n.p,{children:["It can not be used to clean ",(0,t.jsx)(n.code,{children:"blocks"})," or ",(0,t.jsx)(n.code,{children:"block entities"})]}),(0,t.jsxs)(n.p,{children:["NOTE: The ",(0,t.jsx)(n.code,{children:"block entity"})," is not a true ",(0,t.jsx)(n.code,{children:"entity"})," within Minecraft internal."]})]}),"\n",(0,t.jsxs)(n.admonition,{type:"colorbox-note",children:[(0,t.jsxs)(n.p,{children:["\u25c9 Supported ",(0,t.jsx)(n.code,{children:"cleanup methods"})]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"KILL"}),": Remove the entity as if it had ",(0,t.jsx)(n.code,{children:"died"}),", triggering the ",(0,t.jsx)(n.code,{children:"entity death event"}),". (Loot will be dropped.)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"DISCARD"}),": Remove the entity by ",(0,t.jsx)(n.code,{children:"discarding"})," it, without triggering any events. (No loot will be dropped.)"]}),"\n"]}),"\n"]}),(0,t.jsxs)(n.p,{children:["NOTE: For ",(0,t.jsx)(n.code,{children:"item entity"}),", there is no significant difference between the available cleanup methods."]})]}),"\n",(0,t.jsxs)(n.admonition,{type:"colorbox-note",children:[(0,t.jsxs)(n.p,{children:["\u25c9 What is a ",(0,t.jsx)(n.code,{children:"translatable key"}),"?"]}),(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.code,{children:"translatable key"})," is an identifier used internally by Minecraft to reference ",(0,t.jsx)(n.code,{children:"items"}),", ",(0,t.jsx)(n.code,{children:"block-based items"}),", and other ",(0,t.jsx)(n.code,{children:"entities"}),"."]}),(0,t.jsxs)(n.p,{children:["It corresponds to the keys defined in Minecraft's ",(0,t.jsx)(n.code,{children:"translation files"}),"."]}),(0,t.jsx)(n.p,{children:"An example translation file can be found here:"}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/sakurawald/fuji/blob/dev/.github/files/en_us.json",children:"https://github.com/sakurawald/fuji/blob/dev/.github/files/en_us.json"})}),(0,t.jsx)(n.p,{children:"Common key formats include:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"item.minecraft.*"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"block.minecraft.*"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"entity.minecraft.*"})}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.admonition,{type:"colorbox-example",children:[(0,t.jsxs)(n.p,{children:["\u25c9 Define a ",(0,t.jsx)(n.code,{children:"matcher"})," to clean ",(0,t.jsx)(n.code,{children:"item entities"}),"."]}),(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.code,{children:"matcher"})," identifies entities using their ",(0,t.jsx)(n.code,{children:"translatable key"}),"."]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["For ",(0,t.jsx)(n.code,{children:"minecraft:gold_ingot"})," item-entity, the key is ",(0,t.jsx)(n.code,{children:"item.minecraft.gold_ingot"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["For ",(0,t.jsx)(n.code,{children:"minecraft:gold_block"})," item-entity, the key is ",(0,t.jsx)(n.code,{children:"block.minecraft.gold_block"})]}),"\n"]}),"\n"]}),(0,t.jsxs)(n.p,{children:["Although the key for a block-based item begins with ",(0,t.jsx)(n.code,{children:"block."}),", it still refers to an ",(0,t.jsx)(n.code,{children:"item entity"})," whose stack contains ",(0,t.jsx)(n.code,{children:"minecraft:gold_block"}),"."]}),(0,t.jsxs)(n.p,{children:["\u25c9 Define a ",(0,t.jsx)(n.code,{children:"matcher"})," to clean ",(0,t.jsx)(n.code,{children:"living entity"}),"."]}),(0,t.jsx)(n.p,{children:"To enable cleaning of living entities:"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Set ",(0,t.jsx)(n.code,{children:"ignore_living_entity"})," to ",(0,t.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Define a ",(0,t.jsx)(n.code,{children:"matcher"})," for the target entity, for example: ",(0,t.jsx)(n.code,{children:"entity.minecraft.skeleton"}),"."]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"configurations",children:"Configurations"}),"\n",(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsx)(n.p,{children:"The JSON content is provided for documentation purposes only."}),(0,t.jsx)(n.p,{children:"It should not be copied directly into your configuration folder, as the document format is not valid JSON syntax."})]}),"\n",(0,t.jsxs)(n.admonition,{type:"config",children:[(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["File Name: ",(0,t.jsx)(n.code,{children:"config.json"})]}),"\n",(0,t.jsx)(n.li,{children:"File Content:"}),"\n"]}),(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:"Click to expand..."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'showLineNumbers title="config/fuji/modules/cleaner/config.json"',children:'{\n  /* The `cron` expression used to trigger entity `cleaner`. */\n  "cron": "0 * * ? * * *"\n  /* Ignore and never remove entities that meet the condition. */,\n  "ignore": {\n    "ignore_item_entity": false,\n    "ignore_living_entity": true,\n    "ignore_named_entity": true,\n    "ignore_entity_with_vehicle": true,\n    "ignore_entity_with_passengers": true,\n    "ignore_glowing_entity": true,\n    "ignore_leashed_entity": true\n  }\n  /* The `translatable key` to `age` map.\n  \n  The `translatable key` defines which `entity` should we remove.\n  The `living ticks` says that we `only` removes the entity whose `age` greater than defined value.\n  \n  The unit of `age` is `game tick` (20 ticks = 1 sec). */,\n  "matchers": [\n    {\n      "enable": false,\n      "translatable_key": "block.minecraft.sand",\n      "lives_longer_than_age": 1200,\n      "cleanup_method": "DISCARD"\n    },\n    {\n      "enable": false,\n      "translatable_key": "item.minecraft.ender_pearl",\n      "lives_longer_than_age": 1200,\n      "cleanup_method": "DISCARD"\n    },\n    {\n      "enable": false,\n      "translatable_key": "block.minecraft.white_carpet",\n      "lives_longer_than_age": 1200,\n      "cleanup_method": "DISCARD"\n    },\n    {\n      "enable": false,\n      "translatable_key": "block.minecraft.cobblestone",\n      "lives_longer_than_age": 1200,\n      "cleanup_method": "DISCARD"\n    },\n    {\n      "enable": false,\n      "translatable_key": "entity.minecraft.skeleton",\n      "lives_longer_than_age": 1200,\n      "cleanup_method": "KILL"\n    }\n  ]\n}\n'})})]})]}),"\n",(0,t.jsx)(n.h2,{id:"jobs",children:"Jobs"}),"\n",(0,t.jsx)(n.admonition,{type:"job",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Job Name: ",(0,t.jsx)(n.code,{children:"CleanerJob"})]}),"\n",(0,t.jsxs)(n.li,{children:["Document: This ",(0,t.jsx)(n.code,{children:"job"})," is used to execute ",(0,t.jsx)(n.code,{children:"/cleaner clean"})," command automatically."]}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"commands",children:"Commands"}),"\n",(0,t.jsx)(n.admonition,{type:"command",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Command Syntax: ",(0,t.jsx)(n.code,{children:"/cleaner clean"})]}),"\n",(0,t.jsx)(n.li,{children:"Document: Perform entity cleanup, and generate a cleanup report if any entities are removed."}),"\n",(0,t.jsxs)(n.li,{children:["Can be executed by console: ",(0,t.jsx)(n.code,{children:"true"})]}),"\n",(0,t.jsxs)(n.li,{children:["Required Level Permission: ",(0,t.jsx)(n.code,{children:"4"})]}),"\n",(0,t.jsxs)(n.li,{children:["Required String Permission: ",(0,t.jsx)(n.code,{children:"null"})]}),"\n"]})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var s=i(6540);const t={},l=s.createContext(t);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);